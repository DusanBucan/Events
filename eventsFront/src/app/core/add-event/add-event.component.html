<div>
    <form [formGroup]="addEventForm" (ngSubmit)="onSubmit(addEventForm.value)" 
        enctype="multipart/form-data" 
        method="POST"
    >
        <div>
            <label for="name"> Name </label><br/>
            <input id="name" type="text" formControlName="name">
            <div *ngIf="submitted && form.name.errors">
                <div *ngIf="form.name.errors.required">Name is required</div>
            </div>
        </div>

        <div>
            <label for="description"> Description </label><br/>
            <textarea id="description" formControlName="description"></textarea>
            <div *ngIf="submitted && form.description.errors">
                <div *ngIf="form.description.errors.required">Description is required</div>
            </div>
        </div>

        <div>
            <label for="eventType"> Type </label><br/>
            <select id="eventType" formControlName="eventType">
                <option selected>Select event type...</option>
                <option value="1">CONCERT</option>
                <option value="2">DRAMA</option>
                <option value="3">OPERA</option>
            </select>
            <div *ngIf="submitted && form.eventType.errors">
                <div *ngIf="form.eventType.errors.required">Type is required</div>
            </div>
        </div>

        <div>
            <label for="fromDate"> Date - from </label><br/>
            <input id="fromDate" type="date" formControlName="fromDate">
            <div *ngIf="submitted && form.fromDate.errors">
                <div *ngIf="form.fromDate.errors.required">From date is required</div>
            </div>
        </div>

        <div>
            <label for="toDate"> Date - to </label><br/>
            <input id="toDate" type="date" formControlName="toDate">
            <div *ngIf="submitted && form.toDate.errors">
                <div *ngIf="form.toDate.errors.required">To date is required</div>
            </div>
        </div>

        <div>
            <label for="date"> Place </label><br/>
            <select id="place" formControlName="place" (change)="renderHalls($event)">
                <option value={{place.id}} *ngFor="let place of places">{{place.name}}</option>
            </select>
            <div *ngIf="submitted && form.place.errors">
                <div *ngIf="form.place.errors.required">Place is required</div>
            </div>
        </div>

        <span *ngFor="let hall of selectedPlaceHalls">
            <input value={{hall.id}} type="checkbox" name="halls[]" (change)="onCheckboxChange($event)">
            <label>{{hall.name}}</label>
        </span>

        <div>
            <select id="place" formControlName="place" (change)="renderSectors($event)" *ngIf="currentPlace && selectedHalls && selectedHalls.length > 0">
                <option value={{hall.id}} *ngFor="let hall of selectedHalls">{{hall.name}}</option>
            </select>
        </div>

        Sectors
        <div *ngFor="let sector of selectedHallSectors">
            <div *ngIf="isSectorSelected(sector.id)">
                <input value={{sector.id}} type="checkbox" name="sectors[]" (change)="onCheckboxChangeSector($event)"
                checked>
            </div>
            <div *ngIf="!isSectorSelected(sector.id)">
                <input value={{sector.id}} type="checkbox" name="sectors[]" (change)="onCheckboxChangeSector($event)">
            </div>
            <label>{{sector.name}}</label>
        </div>

        <input type="file" id="file" (change)="selectFile($event)">

        <div>
            <label for="ticketPrice"> Ticket price </label><br/>
            <input id="ticketPrice" type="text" formControlName="ticketPrice">
            <div *ngIf="submitted && form.ticketPrice.errors">
                <div *ngIf="form.ticketPrice.errors.required">Ticket price is required</div>
            </div>
        </div>

        <br/>
        <button class="button" type="submit">Register</button>
    </form>

</div>
